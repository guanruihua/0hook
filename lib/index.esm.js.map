{"version":3,"file":"index.esm.js","sources":["../src/useSetState/index.tsx"],"sourcesContent":["// import React from 'react'\r\n// import { useSetState } from '@/assets'\r\n\r\n// export default () => {\r\n//   const [state, updateState] = useSetState({\r\n//     name: 'ruihuag',\r\n//     age: '24',\r\n//     sex: 'man'\r\n//   })\r\n\r\n//   return <div>\r\n//     <div>\r\n//       <button\r\n//         onClick={() => updateState({ name: 'RUIHUAG', 'age': '999' })}>\r\n//         update name\r\n//       </button>\r\n//     </div>\r\n//     <div>\r\n//       Username:{JSON.stringify(state)}\r\n//     </div>\r\n//   </div>\r\n// }\r\n\r\nimport { useState } from 'react'\r\n\r\nexport function useSetState<T extends Record<string, any>>(initialState: T = {} as T)\r\n  : [T, (patch: Partial<T> | ((prevState: T) => Partial<T>)) => void] {\r\n\r\n  const [state, setState] = useState<T>(initialState)\r\n  return [\r\n    state,\r\n    (patch: Partial<T> | ((prevState: T) => Partial<T>)): void => {\r\n      if (typeof patch === 'function') {\r\n        setState({ ...state, ...patch(state) })\r\n      } else {\r\n        setState({ ...state, ...patch })\r\n      }\r\n    }\r\n  ]\r\n\r\n}\r\n"],"names":[],"mappings":";;AAyBgB,SAAA,WAAW,CAAgC,YAAA,GAAkB,EAAO,EAAA;IAGlF,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,QAAQ,CAAI,YAAY,CAAC,CAAA;IACnD,OAAO;QACL,KAAK;QACL,CAAC,KAAkD,KAAU;AAC3D,YAAA,IAAI,OAAO,KAAK,KAAK,UAAU,EAAE;AAC/B,gBAAA,QAAQ,CAAC,EAAE,GAAG,KAAK,EAAE,GAAG,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,CAAA;AACxC,aAAA;AAAM,iBAAA;gBACL,QAAQ,CAAC,EAAE,GAAG,KAAK,EAAE,GAAG,KAAK,EAAE,CAAC,CAAA;AACjC,aAAA;SACF;KACF,CAAA;AAEH;;;;"}